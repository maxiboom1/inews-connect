<html>
<head>
<script>
	function __NA_GetValues()
	{
		const values = [
			document.getElementById('tickerText1').value,
			document.getElementById('tickerText2').value,
			document.getElementById('tickerText3').value,
			document.getElementById('tickerText4').value,
			document.getElementById('tickerText5').value,
			document.getElementById('tickerText6').value ];

		return encodeURIComponent(JSON.stringify(values)).replace(/'/g, "\\'");
	};
	function __NA_SetValues(json)
	{
		if(json === "")
		{
			document.getElementById('tickerText1').value = "";
			document.getElementById('tickerText2').value = "";
			document.getElementById('tickerText3').value = "";
			document.getElementById('tickerText4').value = "";
			document.getElementById('tickerText5').value = "";
			document.getElementById('tickerText6').value = "";
		}
		else
		{
			var values = JSON.parse(decodeURIComponent(json));

			document.getElementById('tickerText1').value = values[0];
			document.getElementById('tickerText2').value = values[1];
			document.getElementById('tickerText3').value = values[2];
			document.getElementById('tickerText4').value = values[3];
			document.getElementById('tickerText5').value = values[4];
			document.getElementById('tickerText6').value = values[5];
		}
	};
	function __NA_GetScripts()
	{
		const texts = [
			[ document.getElementById('tickerText1').value ],
			[ document.getElementById('tickerText2').value ],
			[ document.getElementById('tickerText3').value ],
			[ document.getElementById('tickerText4').value ],
			[ document.getElementById('tickerText5').value ],
			[ document.getElementById('tickerText6').value ] ];

		const scripts = {
			scriptIn : [
				"Flag(TICKER)",
				"ExportSet(TICKER_MODE;2)",
				"ExportSet(TICKER_TEXT_A;" + texts[0] + ")",
				"Wait(50)",
				"AnimPlay(TICKER_IN)",
			        "TickerStart(my_flip_ticker;5000;0;" + JSON.stringify(texts) + ")" ],
			scriptChange : [
				"TickerExportSet(my_flip_ticker;TICKER_TEXT_B;0)",
				"Wait(50)",
				"AnimPlay(TICKER_CHANGE)",
				"Wait(1050)",
				"AnimStop(TICKER_CHANGE)",
				"TickerExportSet(my_flip_ticker;TICKER_TEXT_A;0)",
				"Wait(50)",
				"AnimRewind(TICKER_CHANGE)" ],
			scriptOut : [
				"UnFlag(TICKER)",
				"AnimPlay(TICKER_OUT)",
		                "Wait(1000)",
			        "TickerStop(my_flip_ticker)" ],
			scriptPvw : [
				"ExportSet(TICKER_TEXT;" + texts[0] + ")",
				"AnimGoToField(TICKER_IN;100)" ] };

		return encodeURIComponent(JSON.stringify(scripts)).replace(/'/g, "\\'");
	};
	function ButtonUpdate()
	{
		const texts = [
			[ document.getElementById('tickerText1').value ],
			[ document.getElementById('tickerText2').value ],
			[ document.getElementById('tickerText3').value ],
			[ document.getElementById('tickerText4').value ],
			[ document.getElementById('tickerText5').value ],
			[ document.getElementById('tickerText6').value ] ];

		const script = [
			"TickerUpdate(my_flip_ticker;0;" + JSON.stringify(texts) + ")" ];

		return encodeURIComponent(JSON.stringify(script)).replace(/'/g, "\\'");
	};
</script>
<style>
	input { background-color: #C0B0D0; font-size: 20; width: 100% }
</style>
</head>
<body style='background-color:#504060; color: gold; font-family: sans-serif'>
<h1>NEWS TEST<br/>TICKER with A2B TRANSITION LOGIC </h1>
<input id='tickerText1' maxlength='32' placeholder='text 1'></input><br/>
<input id='tickerText2' maxlength='32' placeholder='text 2'></input><br/>
<input id='tickerText3' maxlength='32' placeholder='text 3'></input><br/>
<input id='tickerText4' maxlength='32' placeholder='text 4'></input><br/>
<input id='tickerText5' maxlength='32' placeholder='text 5'></input><br/>
<input id='tickerText6' maxlength='32' placeholder='text 6'></input><br/>
<br/><br/>
<input id="button5" type="button" value="update texts button" style="height:100px;width:300px" onclick="(function(){ CefSharp.PostMessage('buttonPlay(ButtonUpdate())'); })(); return false;"/>
<br/><br/>
</body>
</html>







